---
db:
  user/1/group_$_ids: ["1"]

fqfields:
- user/1/username

cases:
- name: speaker
  db:
    user/1/speaker_$1_ids: [1]

  cases:
  - name: can_see
    permission: list_of_speakers.can_see
    can_see:
    - user/1/username

  - name: without can_see
    can_not_see:
    - user/1/username

- name: motion supporter
  db:
    user/1/supported_motion_$1_ids: [1]
    motion/1/state_id: 1

  cases:
  - name: can_see
    permission: motion.can_see
    can_see:
    - user/1/username

  - name: can_see but restricted
    db:
      motion_state/1/restrictions:
      - motion.can_manage
    permission: motion.can_see
    can_not_see:
    - user/1/username

  - name: without can_see
    can_not_see:
    - user/1/username
