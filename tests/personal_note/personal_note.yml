---
db:
  personal_note/1/user_id: 1
  personal_note/2/user_id: 2

cases:
- name: update
  action: personal_note.update
  payload:
    id: 1

  cases:
  - name: own note
    user_id: 1
    is_allowed: true

  - name: other note
    user_id: 2
    is_allowed: false

- name: delete
  action: personal_note.delete
  payload:
    id: 1

  cases:
  - name: own note
    user_id: 1
    is_allowed: true

  - name: other note
    user_id: 2
    is_allowed: false

- name: read
  fqfields:
  - personal_note/1/id
  - personal_note/1/name
  - personal_note/1/user_id
  - personal_note/2/id
  - personal_note/2/name
  - personal_note/2/user_id
  user_id: 1
  can_see:
  - personal_note/1/id
  - personal_note/1/name
  - personal_note/1/user_id
